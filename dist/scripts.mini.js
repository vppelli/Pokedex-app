let pokemonRepository=function(){let e=[];function t(){return e}function n(t){e.push(t)}function i(){$("#modal").modal("hide")}function a(e){return o(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){r(),e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height,e.types=[],t.types.forEach(function(t){e.types.push(" "+t.type.name)}),e.ability=[],t.abilities.forEach(function(t){e.ability.push(" "+t.ability.name)}),e.weight=t.weight}).catch(function(e){console.error(e)})}function l(e){a(e).then(function(){var t;let n,a,l,d,o,r,s,c,p,h,m,u,f,g;t=e,(n=document.querySelector("#modal")).innerHTML="",(a=document.createElement("div")).classList.add("modal-dialog"),(l=document.createElement("div")).classList.add("modal-content"),(d=document.createElement("div")).classList.add("modal-header"),(o=document.createElement("h1")).classList.add("modal-title"),o.innerText=t.name,(r=document.createElement("button")).classList.add("btn"),r.innerText="X",r.addEventListener("click",i),(s=document.createElement("div")).classList.add["bg-primary"],(c=document.createElement("div")).classList.add["text-center"],(p=document.createElement("p")).innerText="Weight: "+t.weight,(h=document.createElement("p")).innerText="Height: "+t.height,(m=document.createElement("p")).innerText="Types: "+t.types,(u=document.createElement("p")).innerText="Abilities: "+t.ability,(f=document.createElement("div")).classList.add["rounded-4"],(g=document.createElement("img")).classList.add("img-thumbnail"),g.src=t.imageUrl,g.alt="Image of "+t.name,f.appendChild(g),s.appendChild(f),c.appendChild(h),c.appendChild(p),c.appendChild(m),c.appendChild(u),s.appendChild(c),d.appendChild(o),d.appendChild(r),l.appendChild(d),l.appendChild(s),a.appendChild(l),n.appendChild(a),$("#modal").modal("toggle")})}window.addEventListener("keydown",e=>{let t=document.querySelector("#modal");"Escape"===e.key&&t.classList.contains("show")&&i()});let d=document.querySelector("#modal");function o(){document.querySelector("#loading").classList.add("is-visible"),console.log("Loading")}function r(){document.querySelector("#loading").classList.remove("is-visible"),console.log("Done")}return d.addEventListener("click",e=>{e.target===d&&i()}),{getAll:t,add:n,addListItem:function e(t){let n=document.querySelector(".list-group"),i=document.createElement("li"),a=document.createElement("button");a.classList.add["btn-block"],a.innerText=t.name,i.appendChild(a),n.appendChild(i),a.addEventListener("click",function(){l(t)})},loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){r(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:a,showDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});