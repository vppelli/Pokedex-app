let pokemonRepository=function(){let e=[];function t(){return e}function n(t){e.push(t)}function i(){$("#modal").modal("hide")}function a(e){return o(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){r(),e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height,e.types=[],t.types.forEach(function(t){e.types.push(" "+t.type.name)}),e.ability=[],t.abilities.forEach(function(t){e.ability.push(" "+t.ability.name)}),e.weight=t.weight}).catch(function(e){console.error(e)})}function d(e){a(e).then(function(){var t;let n,a,d,l,o,r,s,c,p,m,h,u,f,g;t=e,(n=document.querySelector("#modal")).innerHTML="",(a=document.createElement("div")).classList.add("modal-dialog"),(d=document.createElement("div")).classList.add("modal-content"),(l=document.createElement("div")).classList.add("modal-header","bg-light"),(o=document.createElement("h1")).classList.add("modal-title"),o.innerText=t.name,(r=document.createElement("button")).classList.add("btn"),r.innerText="X",r.addEventListener("click",i),(s=document.createElement("div")).classList.add("modal-body","bg-primary","rounded-bottom-2"),(c=document.createElement("div")).classList.add("mt-2","p-2","rounded-4","bg-secondary","text-white","text-center"),(p=document.createElement("p")).innerText="Weight: "+t.weight,(m=document.createElement("p")).innerText="Height: "+t.height,(h=document.createElement("p")).innerText="Types: "+t.types,(u=document.createElement("p")).innerText="Abilities: "+t.ability,(f=document.createElement("div")).classList.add("border","border-danger","rounded-4"),(g=document.createElement("img")).classList.add("img-thumbnail"),g.src=t.imageUrl,g.alt="Image of "+t.name,f.appendChild(g),s.appendChild(f),c.appendChild(m),c.appendChild(p),c.appendChild(h),c.appendChild(u),s.appendChild(c),l.appendChild(o),l.appendChild(r),d.appendChild(l),d.appendChild(s),a.appendChild(d),n.appendChild(a),$("#modal").modal("toggle")})}window.addEventListener("keydown",e=>{let t=document.querySelector("#modal");"Escape"===e.key&&t.classList.contains("show")&&i()});let l=document.querySelector("#modal");function o(){document.querySelector("#loading").classList.add("is-visible"),console.log("Loading")}function r(){document.querySelector("#loading").classList.remove("is-visible"),console.log("Done")}return l.addEventListener("click",e=>{e.target===l&&i()}),{getAll:t,add:n,addListItem:function e(t){let n=document.querySelector(".row"),i=document.createElement("div"),a=document.createElement("button");a.classList.add("col","rounded-4","m-1","btn","btn-primary","btn-block"),a.innerText=t.name,i.appendChild(a),n.appendChild(i),a.addEventListener("click",function(){d(t)})},loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){r(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:a,showDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});